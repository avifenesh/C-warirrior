var W=Object.defineProperty;var L=e=>{throw TypeError(e)};var X=(e,s,t)=>s in e?W(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t;var B=(e,s,t)=>X(e,typeof s!="symbol"?s+"":s,t),U=(e,s,t)=>s.has(e)||L("Cannot "+t);var r=(e,s,t)=>(U(e,s,"read from private field"),t?t.call(e):s.get(e)),v=(e,s,t)=>s.has(e)?L("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(e):s.set(e,t),Y=(e,s,t,a)=>(U(e,s,"write to private field"),a?a.call(e,t):s.set(e,t),t);import{N as x,O as j,P as O,Q as J,d as F,R as q,h as D,m as ee,S as se,U as te,b as ae,g as re,V as ie,W as ne,X as fe,Y as ue,l as ce,k as C,a as de,Z as he,q as Z,_ as le,a0 as z,D as $,a1 as _e,w as T,a2 as oe,a3 as H,a4 as ve,a5 as be,a6 as ge,a7 as Se,y as pe,a8 as Pe,a9 as Ee,aa as ye,K as Ae,ab as Re,ac as Te,ad as Ie,G as me,ae as Oe,af as De,ag as Ne}from"./ftIhdwkj.js";import{s as we,g as Me}from"./enAchYCB.js";var l,_,h,b,E,y,I;class ke{constructor(s,t=!0){B(this,"anchor");v(this,l,new Map);v(this,_,new Map);v(this,h,new Map);v(this,b,new Set);v(this,E,!0);v(this,y,()=>{var s=x;if(r(this,l).has(s)){var t=r(this,l).get(s),a=r(this,_).get(t);if(a)j(a),r(this,b).delete(t);else{var n=r(this,h).get(t);n&&(r(this,_).set(t,n.effect),r(this,h).delete(t),n.fragment.lastChild.remove(),this.anchor.before(n.fragment),a=n.effect)}for(const[i,u]of r(this,l)){if(r(this,l).delete(i),i===s)break;const f=r(this,h).get(u);f&&(O(f.effect),r(this,h).delete(u))}for(const[i,u]of r(this,_)){if(i===t||r(this,b).has(i))continue;const f=()=>{if(Array.from(r(this,l).values()).includes(i)){var o=document.createDocumentFragment();se(u,o),o.append(F()),r(this,h).set(i,{effect:u,fragment:o})}else O(u);r(this,b).delete(i),r(this,_).delete(i)};r(this,E)||!a?(r(this,b).add(i),J(u,f,!1)):f()}}});v(this,I,s=>{r(this,l).delete(s);const t=Array.from(r(this,l).values());for(const[a,n]of r(this,h))t.includes(a)||(O(n.effect),r(this,h).delete(a))});this.anchor=s,Y(this,E,t)}ensure(s,t){var a=x,n=te();if(t&&!r(this,_).has(s)&&!r(this,h).has(s))if(n){var i=document.createDocumentFragment(),u=F();i.append(u),r(this,h).set(s,{effect:q(()=>t(u)),fragment:i})}else r(this,_).set(s,q(()=>t(this.anchor)));if(r(this,l).set(a,s),n){for(const[f,c]of r(this,_))f===s?a.skipped_effects.delete(c):a.skipped_effects.add(c);for(const[f,c]of r(this,h))f===s?a.skipped_effects.delete(c.effect):a.skipped_effects.add(c.effect);a.oncommit(r(this,y)),a.ondiscard(r(this,I))}else D&&(this.anchor=ee),r(this,y).call(this)}}l=new WeakMap,_=new WeakMap,h=new WeakMap,b=new WeakMap,E=new WeakMap,y=new WeakMap,I=new WeakMap;function xe(e,s,t=!1){D&&ae();var a=new ke(e),n=t?ie:0;function i(u,f){if(D){const o=ne(e)===fe;if(u===o){var c=ue();ce(c),a.anchor=c,C(!1),a.ensure(u,f),C(!0);return}}a.ensure(u,f)}re(()=>{var u=!1;s((f,c=!0)=>{u=!0,i(c,f)}),u||i(!1,null)},n)}function G(e,s){return e===s||(e==null?void 0:e[z])===s}function Fe(e={},s,t,a){return de(()=>{var n,i;return he(()=>{n=i,i=[],Z(()=>{e!==t(...i)&&(s(e,...i),n&&G(t(...n),e)&&s(null,...n))})}),()=>{le(()=>{i&&G(t(...i),e)&&s(null,...i)})}}),e}let R=!1,N=Symbol();function qe(e,s,t){const a=t[s]??(t[s]={store:null,source:_e(void 0),unsubscribe:$});if(a.store!==e&&!(N in t))if(a.unsubscribe(),a.store=e??null,e==null)a.source.v=void 0,a.unsubscribe=$;else{var n=!0;a.unsubscribe=we(e,i=>{n?a.source.v=i:H(a.source,i)}),n=!1}return e&&N in t?Me(e):T(a.source)}function Ce(){const e={};function s(){oe(()=>{for(var t in e)e[t].unsubscribe();ve(e,N,{enumerable:!1,value:!0})})}return[e,s]}function Le(e){var s=R;try{return R=!1,[e(),R]}finally{R=s}}function $e(e,s,t,a){var M;var n=!me||(t&Oe)!==0,i=(t&Ie)!==0,u=(t&Te)!==0,f=a,c=!0,o=()=>(c&&(c=!1,f=u?Z(a):a),f),S;if(i){var K=z in e||Ne in e;S=((M=be(e,s))==null?void 0:M.set)??(K&&s in e?d=>e[s]=d:void 0)}var p,w=!1;i?[p,w]=Le(()=>e[s]):p=e[s],p===void 0&&a!==void 0&&(p=o(),S&&(n&&ge(),S(p)));var g;if(n?g=()=>{var d=e[s];return d===void 0?o():(c=!0,d)}:g=()=>{var d=e[s];return d!==void 0&&(f=void 0),d===void 0?f:d},n&&!(t&Se))return g;if(S){var Q=e.$$legacy;return function(d,A){return arguments.length>0?((!n||!A||Q||w)&&S(A?g():d),d):g()}}var m=!1,P=(t&De?pe:Pe)(()=>(m=!1,g()));i&&T(P);var V=Ae;return function(d,A){if(arguments.length>0){const k=A?T(P):n&&i?Ee(d):d;return H(P,k),m=!0,f!==void 0&&(f=k),d}return ye&&m||V.f&Re?P.v:T(P)}}export{ke as B,Ce as a,Fe as b,xe as i,$e as p,qe as s};
